{"ast":null,"code":"import axios from \"axios\";\nexport const fetchTracks = async () => {\n  try {\n    const response = await axios.get(\"http://localhost:8000/api/tracks\");\n    if (response.status == 200 && response.data && response) {\n      return response.data;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return undefined;\n};\nexport const createTrack = async trackData => {\n  try {\n    const response = await axios.post(\"http://localhost:8000/api/tracks\", trackData);\n    if (response.status == 201 && response.data) {\n      return response.data;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return undefined;\n};\nexport const fetchTrackbySlug = async slug => {\n  try {\n    const response = await axios.get(`http://localhost:8000/api/tracks/${slug}`);\n    if (response.status === 200) {\n      return response.data;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return undefined;\n};\nexport const editTrack = async trackData => {\n  try {\n    const response = await axios.put(\"http://localhost:8000/api/tracks/${id}\", trackData);\n    if (response.status == 200 && response.data) {\n      return response.data;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return undefined;\n};\nexport const deleteTrack = async ({\n  id\n}) => {\n  try {\n    const response = await axios.delete(`http://localhost:8000/api/tracks/${id}`);\n    if (response.status === 204) {\n      console.log(\"Track deleted successfully\");\n    }\n  } catch (error) {\n    console.error(\"Failed to delete track:\", error);\n  }\n};\nexport const deleteMultipleTracks = async trackData => {\n  try {\n    const response = await axios.post(\"http://localhost:8000/api/tracks/delete\", trackData);\n    if (response.status === 200) {\n      return response.data;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return undefined;\n};\nexport const uploadTrackFile = async (track, file) => {\n  try {\n    const formData = new FormData();\n    formData.append(\"audioFile\", file);\n    const response = await axios.post(`http://localhost:8000/api/tracks/${track.id}/upload`, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    if (response.status == 200 && response.data && response) {\n      return response.data;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return undefined;\n};\nexport const deleteTrackFile = async trackId => {\n  try {\n    const response = await axios.delete(`http://localhost:8000/api/tracks/${trackId}/file`);\n    if (response.status === 200 && response.data) {\n      return response.data;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return undefined;\n};","map":{"version":3,"names":["axios","fetchTracks","response","get","status","data","error","console","log","undefined","createTrack","trackData","post","fetchTrackbySlug","slug","editTrack","put","deleteTrack","id","delete","deleteMultipleTracks","uploadTrackFile","track","file","formData","FormData","append","headers","deleteTrackFile","trackId"],"sources":["C:/Таня/test-case genesis/music-tracks-manager/src/api/track/trackApi.ts"],"sourcesContent":["import axios, { AxiosResponse } from \"axios\";\r\nimport { Track } from \"./models/Track\";\r\nimport { PageList } from \"../../types/PageList\";\r\nimport { CreateTrack } from \"./models/CreateTrack\";\r\nimport { EditTrack } from \"./models/EditTrack\";\r\nimport { DeleteTrack } from \"./models/DeleteTrack\";\r\nimport { DeleteTracksRequest } from \"./models/DeleteTracksRequest\";\r\n\r\nexport const fetchTracks = async (): Promise<PageList<Track> | undefined> => {\r\n  try {\r\n    const response = await axios.get<PageList<Track>>(\"http://localhost:8000/api/tracks\");\r\n    if (response.status == 200 && response.data && response){\r\n      return response.data;\r\n    }\r\n  }\r\n  catch (error: any) {\r\n    console.log(error);\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const createTrack = async (trackData: CreateTrack): Promise<Track|undefined> => {\r\n  try{\r\n    const response = await axios.post<CreateTrack, AxiosResponse<Track>>(\"http://localhost:8000/api/tracks\", trackData);\r\n    if(response.status == 201 && response.data) {\r\n      return response.data;\r\n    }\r\n  }\r\n    catch (error: any) {\r\n    console.log(error);\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const fetchTrackbySlug = async(slug:string): Promise<Track|undefined> => {\r\n  try{\r\n    const response = await axios.get<Track>(`http://localhost:8000/api/tracks/${slug}`);\r\n    if (response.status === 200 ) {\r\n      return response.data;\r\n    }\r\n  }\r\n  catch (error:any) {\r\n    console.log(error);\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const editTrack = async (trackData : EditTrack): Promise<Track|undefined> => {\r\n  try{\r\n    const response = await axios.put<EditTrack, AxiosResponse<Track>>(\"http://localhost:8000/api/tracks/${id}\", trackData);\r\n    if(response.status == 200 && response.data) {\r\n      return response.data;\r\n    }\r\n  }\r\n   catch (error: any) {\r\n    console.log(error);\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const deleteTrack = async({id}:DeleteTrack): Promise<void> => {\r\n  try{\r\n    const response = await axios.delete(`http://localhost:8000/api/tracks/${id}`);\r\n    if(response.status === 204){\r\n      console.log(\"Track deleted successfully\");\r\n    }\r\n  }\r\n   catch (error: any) {\r\n    console.error(\"Failed to delete track:\", error);\r\n  }\r\n};\r\n\r\nexport const deleteMultipleTracks = async(trackData: DeleteTracksRequest): Promise<void> => {\r\n  try{\r\n    const response = await axios.post(\"http://localhost:8000/api/tracks/delete\", trackData);\r\n    if(response.status === 200) {\r\n      return response.data\r\n    }\r\n  }\r\n   catch (error: any) {\r\n    console.log(error);\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const uploadTrackFile = async(track: Track, file: File): Promise<PageList<Track> | undefined> => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"audioFile\", file)\r\n    const response = await axios.post<PageList<Track>>(`http://localhost:8000/api/tracks/${track.id}/upload`, formData, \r\n      {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      },\r\n    }\r\n  );\r\n      if (response.status == 200 && response.data && response){\r\n      return response.data;\r\n    }\r\n  }\r\n  catch (error: any) {\r\n    console.log(error);\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const deleteTrackFile = async(trackId: string): Promise<Track | undefined> => {\r\n  try {\r\n    const response = await axios.delete<Track>(`http://localhost:8000/api/tracks/${trackId}/file`);\r\n    if (response.status === 200 && response.data){\r\n      return response.data;\r\n    }\r\n  }\r\n  catch(error: any) {\r\n    console.log(error);\r\n  }\r\n  return undefined;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}